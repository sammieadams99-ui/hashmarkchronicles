<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hashmark Chronicles ‚Äî Kentucky Athletics Review</title>
  <meta name="description" content="Independent Kentucky football analysis with film-room breakdowns, data-driven previews, and postgame reviews. Hoops coverage coming soon." />
  <link rel="canonical" href="https://hashmarkchronicles.online/" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Hashmark Chronicles ‚Äî Kentucky Athletics Review" />
  <meta property="og:description" content="Independent Kentucky football analysis with film-room breakdowns, data-driven previews, and postgame reviews." />
  <meta property="og:image" content="https://artwork.espncdn.com/events/401752743/16x9/1280x720_20250324202019.png" />
  <meta property="og:url" content="https://hashmarkchronicles.online/" />
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@HashmarkChron" />
  <meta name="twitter:title" content="Hashmark Chronicles ‚Äî Kentucky Athletics Review" />
  <meta name="twitter:description" content="Independent Kentucky football analysis with film-room breakdowns, data-driven previews, and postgame reviews." />
  <meta name="twitter:image" content="https://artwork.espncdn.com/events/401752743/16x9/1280x720_20250324202019.png" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <style>
    :root{
      --ky-blue:#0033a0;
      --ink:#0b0d12;
      --paper:#ffffff;
      --muted:#eef1f6;
      --hc-green:#39ff14;
      --accent:#1b75ff;
      --shadow:0 6px 24px rgba(0,0,0,.12);
      --radius:18px;
      --good:#16a34a; --bad:#dc2626; --warn:#d97706;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font-family: Georgia, Times, "Times New Roman", serif;color: var(--ink);background:#f7f8fb;line-height:1.6}
    a{color:var(--ky-blue); text-decoration:none}
    a:hover{color:var(--accent)}

    .bar{background: var(--ink);color: var(--paper);font: 500 14px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;padding:8px 16px;display:flex;align-items:center;justify-content:center;gap:10px}
    .bar .dot{width:8px;height:8px;border-radius:50%;background:var(--hc-green);display:inline-block}

    header{position:sticky;top:0;z-index:50;backdrop-filter: blur(8px);background: rgba(255,255,255,.85);border-bottom:2px solid var(--muted)}
    .wrap{max-width:1100px;margin:auto;padding:16px}
    .row{display:flex;align-items:center;justify-content:space-between;gap:16px}

    .brand{display:flex;align-items:center;gap:14px}
    .hc-logo{width:56px;height:56px;border-radius:12px;position:relative;overflow:hidden;background:var(--ky-blue);box-shadow:var(--shadow);display:grid;place-items:center}
    .hc-logo span{font: italic 800 28px/1 system-ui,-apple-system,Segoe UI,Arial,sans-serif;color:#fff;letter-spacing:.5px;transform: translateY(3px)}
    .hc-logo::before{content:"";position:absolute;top:8px;left:8px;right:8px;height:5px;border-radius:5px;background:linear-gradient(90deg,transparent 0%,var(--hc-green) 35%,var(--hc-green) 65%,transparent 100%);filter:drop-shadow(0 0 6px rgba(57,255,20,.6));animation:swipe 2.8s ease-in-out infinite;opacity:.95}
    @keyframes swipe{0%{transform:translateX(-120%)}40%{transform:translateX(0)}60%{transform:translateX(0)}100%{transform:translateX(120%)}}
    .brand-title{display:flex;flex-direction:column}
    .brand-title strong{font:800 20px/1.2 "Franklin Gothic Medium","Arial Narrow",Arial,sans-serif;color:var(--ink)}
    .brand-title small{font:600 12px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#4a5568;letter-spacing:.5px}

    nav ul{display:flex;gap:18px;list-style:none;margin:0;padding:0}
    nav a{font:600 14px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}

    .chip-x{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid var(--ky-blue);background:#fff;color:var(--ky-blue);font:700 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;transition:background .15s ease,color .15s ease,border-color .15s ease}
    .chip-x:hover{background:var(--ky-blue);color:#fff;border-color:var(--ky-blue);text-decoration:none}
    .chip-x .x-glyph{font-weight:900;font-size:14px;line-height:1;display:inline-block;transform:translateY(-1px)}

    /* Ticker */
    .ticker{width:100%;background:#fff;color:#0b0d12;border-top:3px solid var(--ky-blue);border-bottom:1px solid var(--muted);overflow:hidden}
    .ticker__track{display:flex;gap:40px;list-style:none;margin:0;padding:6px 0 6px 100%;font-family:'Press Start 2P',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;font-size:11px;line-height:1.1;white-space:nowrap;animation:hc-marquee 28s linear infinite}
    @keyframes hc-marquee{to{transform:translateX(-100%)}}
    .ticker:hover .ticker__track{animation-play-state:paused}
    @media (prefers-reduced-motion:reduce){.ticker__track{animation:none;padding-left:16px}}
    .ticker__track.trend li{display:inline-flex;align-items:baseline;gap:6px}
    .trend-dot{width:7px;height:7px;border-radius:50%}
    .label{color:#0b0d12}
    .trend-value.good{color:var(--good)} .trend-value.bad{color:var(--bad)} .trend-value.warn{color:var(--warn)}
    .trend-dot.good{background:var(--good)} .trend-dot.bad{background:var(--bad)} .trend-dot.warn{background:var(--warn)}

    .hero{max-width:1100px;margin:24px auto;display:grid;grid-template-columns:1.2fr .8fr;gap:24px}
    .card{background:var(--paper);border:1px solid var(--muted);border-radius:var(--radius);box-shadow:var(--shadow)}
    .card .pad{padding:20px}
    .hero .feature img{display:block;width:100%;height:auto;border-top-left-radius:var(--radius);border-top-right-radius:var(--radius)}
    .kicker{font:700 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;text-transform:uppercase;letter-spacing:.12em;color:var(--ky-blue)}
    h1,h2,h3{font-family:"Franklin Gothic Medium","Arial Narrow",Arial,sans-serif;color:#0b0d12}
    h1{font-size:32px;margin:8px 0 14px}
    h2{font-size:22px;margin:0 0 10px}
    p{margin:0 0 12px}

    .block{padding:16px;border-top:3px solid var(--ky-blue)}
    .stat-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    .stat{background:#f3f6fb;border:1px solid var(--muted);border-radius:12px;padding:10px}
    .stat b{display:block;font:800 18px/1.1 "Franklin Gothic Medium","Arial Narrow",Arial,sans-serif}
    .stat span{font:600 12px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#475569}

    main{max-width:1100px;margin:0 auto 48px;display:grid;grid-template-columns:1fr .38fr;gap:24px}
    article{background:var(--paper);border:1px solid var(--muted);border-radius:var(--radius);box-shadow:var(--shadow)}
    .prose{padding:24px}
    .prose h2{margin-top:22px}
    .callout{border-left:4px solid var(--hc-green);background:#f4fff2;padding:12px 14px;border-radius:12px;margin:14px 0}

    .article-body h1{font-size:2.2em;border-bottom:2px solid #003087;padding-bottom:.3em;margin-top:.5rem}
    .header-image,.atmosphere-image,.special-teams-image{width:100%;height:auto;margin:1em 0;border-radius:6px;display:block}
    .video-container{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;margin:1em 0;background:#000 url('https://via.placeholder.com/800x450?text=Video+Loading') center/cover}
    .video-container iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0}
    blockquote.twitter-tweet{margin:1em auto;border-left:4px solid #003087;padding-left:1em}
    .tweet-embed figcaption{color:#444;font-size:.9em;text-align:center;margin-top:.4rem}

    /* Mini Spotlight (sidebar rectangles) */
    .mini-spotlight .row{display:flex;gap:10px;align-items:center;padding:8px;border:1px solid var(--muted);border-radius:10px;background:#fff;margin:8px 0}
    .mini-spotlight .row:hover{background:#f3f6fb}
    .mini-spotlight img{width:48px;height:48px;border-radius:8px;object-fit:cover;border:1px solid var(--muted)}
    .mini-spotlight .who{font:700 14px/1.2 "Franklin Gothic Medium","Arial Narrow",Arial,sans-serif;color:#0b0d12}
    .mini-spotlight .stat{font:600 12px/1.3 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#475569}
    .mini-spotlight .tiny{font:600 11px/1 system-ui;color:#64748b}
    .mini-spotlight .toggles{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 8px}
    .mini-spotlight .chip{border:1px solid var(--muted);border-radius:999px;padding:6px 10px;background:#fff;font:700 12px/1 system-ui;cursor:pointer}
    .mini-spotlight .chip.active{background:#0033a0;color:#fff;border-color:#0033a0}

    /* Carousel (sidebar) */
    .carousel{margin-top:12px}
    .carousel .head{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
    .carousel .viewport{position:relative;overflow:hidden;height:120px}
    .carousel .track{display:flex;transition:transform .45s ease}
    .carousel .card{min-width:100%;display:flex;gap:10px;align-items:center;padding:10px;border:1px solid var(--muted);border-radius:10px;background:#fff}
    .carousel .card img{width:56px;height:56px;border-radius:10px;object-fit:cover;border:1px solid var(--muted)}
    .carousel .name{font:700 14px/1.2 'Franklin Gothic Medium','Arial Narrow',Arial,sans-serif}
    .carousel .meta{font:600 12px/1.2 system-ui;color:#64748b}
    .carousel .stats{font:600 12px/1.2 system-ui;color:#475569;margin-top:2px}
    .carousel button.nav{border:1px solid var(--muted);background:#fff;border-radius:8px;padding:4px 8px;cursor:pointer}
    .carousel .dots{display:flex;gap:6px;margin-top:6px;justify-content:center}
    .carousel .dots span{width:6px;height:6px;border-radius:50%;background:#cbd5e1}
    .carousel .dots span.active{background:#0033a0}

    #pulse .feeds{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    @media (max-width:980px){#pulse .feeds{grid-template-columns:1fr}}

    footer{background:var(--ink);color:#c7d2fe;padding:28px 0;margin-top:40px}
    footer .cols{max-width:1100px;margin:auto;display:grid;grid-template-columns:1fr 1fr;gap:18px}
    footer a{color:#c7d2fe}

    @media (max-width:980px){
      .hero, main{grid-template-columns:1fr}
      nav ul{flex-wrap:wrap}
      .article-body h1{font-size:1.8em}
      .carousel .viewport{height:140px}
    }
  </style>
</head>
<body>
  <div class="bar"><span class="dot"></span> Kentucky Football ‚Ä¢ Independent film-room analysis & previews ‚Ä¢ HC Hoops returns this winter</div>

  <header>
    <div class="wrap row">
      <div class="brand">
        <div class="hc-logo" aria-label="Hashmark Chronicles logo"><span>HC</span></div>
        <div class="brand-title">
          <strong>Hashmark Chronicles</strong>
          <small>Kentucky Athletics Review</small>
        </div>
      </div>
      <nav aria-label="Primary">
        <ul>
          <li><a href="#article">Gridiron</a></li>
          <li><a href="#hardtop">Hardtop</a></li>
          <li><a href="#pulse">The Pulse</a></li>
          <li><a href="posts/library.html">Articles</a></li>
          <li><a href="#about">About</a></li>
          <li>
            <a class="chip-x" href="https://x.com/HashmarkCFB" target="_blank" rel="me noopener" aria-label="Follow @HashmarkCFB on X">
              <span class="x-glyph" aria-hidden="true">ùïè</span>
              <span>@HashmarkCFB</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- TICKER -->
  <div class="ticker" aria-label="Season leaders & trending stats">
    <ul class="ticker__track trend" id="tickerTrack">
      <li><span class="trend-dot good"></span><span class="label"><strong>Explosive PA rate</strong> <span class="trend-value good">+6.3%</span> vs base</span></li>
      <li><span class="trend-dot good"></span><span class="label"><strong>Yds/Play (UK)</strong> <span class="trend-value good">5.7</span></span></li>
      <li><span class="trend-dot warn"></span><span class="label"><strong>Havoc Allowed</strong> <span class="trend-value warn">42%</span> steady</span></li>
      <li><span class="trend-dot bad"></span><span class="label"><strong>3rd &amp; 6+ defense</strong> <span class="trend-value bad">46%</span> conv. allowed</span></li>
      <li><span class="trend-dot good"></span><span class="label"><strong>Boley</strong> <span class="trend-value good">885 yds ‚Ä¢ 4 TD</span></span></li>
    </ul>
  </div>

  <!-- HERO -->
  <section class="hero">
    <article class="card feature" itemscope itemtype="https://schema.org/Article">
      <img src="https://artwork.espncdn.com/events/401752743/16x9/1280x720_20250324202019.png" alt="Texas Longhorns vs Kentucky Wildcats ‚Äî ESPN event graphic" />
      <div class="pad">
        <div class="kicker">Game Preview</div>
        <h1 itemprop="headline">Kentucky vs. Texas ‚Äî Oct. 18, 2025</h1>
        <p itemprop="description">Your full preview: atmosphere, QB breakdowns, trench warfare, special teams, and the upset call.</p>
        <p><a href="#article">Read the breakdown ‚Üí</a></p>
      </div>
    </article>

    <aside class="card">
      <div class="block">
        <div class="kicker">Next Kickoff</div>
        <h2>Kentucky @ <span style="white-space:nowrap">[Opponent]</span></h2>
        <p>Date ‚Ä¢ Time ‚Ä¢ TV: <b>ESPN</b></p>
        <div class="stat-grid" style="margin-top:10px">
          <div class="stat"><b>5.7</b><span>Yards/Play (UK)</span></div>
          <div class="stat"><b>+0.08</b><span>EPA/Play last 3</span></div>
          <div class="stat"><b>42%</b><span>Havoc Allowed</span></div>
          <div class="stat"><b>58%</b><span>Success Rate (PA)</span></div>
        </div>
      </div>
      <div class="block mini-spotlight" id="miniSpotlight">
        <div class="kicker">Player Spotlight</div>
        <div id="miniFeatured" class="row" style="display:none"></div>
        <div class="toggles">
          <button class="chip" data-side="offense">Offense</button>
          <button class="chip" data-side="defense">Defense</button>
          <button class="chip" data-span="last">Last</button>
          <button class="chip" data-span="season">Season</button>
        </div>
        <div id="miniList"></div>

        <!-- Carousel -->
        <div class="carousel" id="spotCarousel">
          <div class="head">
            <div class="kicker">Rotating Spotlight</div>
            <div>
              <button class="nav" data-dir="-1" aria-label="Previous">‚Äπ</button>
              <button class="nav" data-dir="1" aria-label="Next">‚Ä∫</button>
            </div>
          </div>
          <div class="viewport">
            <div class="track" id="carouselTrack"></div>
          </div>
          <div class="dots" id="carouselDots"></div>
        </div>
      </div>
    </aside>
  </section>

  <!-- MAIN -->
  <main>
    <article id="article" class="article">
      <div class="prose article-body">
        <img src="https://artwork.espncdn.com/events/401752743/16x9/1280x720_20250324202019.png" alt="Texas Longhorns vs Kentucky Wildcats ‚Äî ESPN event graphic" class="header-image" referrerpolicy="no-referrer">
        <h1>Kentucky vs. Texas Football Preview ‚Äì Oct. 18, 2025</h1>
        <h2>Opening Context</h2>
        <p>(‚Ä¶your original copy continues‚Ä¶)</p>
      </div>
    </article>

    <aside aria-label="Sidebar">
      <div class="card pad">
        <div class="kicker">Newsletter</div>
        <h3>Join the Film Room</h3>
        <p>One email after each game: charts, context, and a clean verdict.</p>
        <form action="#" method="post" onsubmit="alert('Stub ‚Äî wire this to your email provider'); return false;">
          <label for="email" style="display:block;margin-bottom:6px">Email</label>
          <input id="email" name="email" type="email" required placeholder="you@example.com" style="width:100%;padding:12px;border-radius:10px;border:1px solid var(--muted);margin-bottom:10px" />
          <button type="submit" style="background:var(--ky-blue);color:#fff;border:none;padding:10px 14px;border-radius:10px;font-weight:700">Subscribe</button>
        </form>
      </div>

      <div class="card pad" id="about">
        <div class="kicker">About</div>
        <p>Hashmark Chronicles is an independent Kentucky athletics outlet: film-first, data-backed, and unbothered by press-room groupthink. Football now; hoops soon.</p>
      </div>
    </aside>
  </main>

  <!-- Hardtop placeholder -->
  <section id="hardtop" class="wrap" style="max-width:1100px;margin:0 auto 32px;">
    <div class="card pad">
      <div class="kicker">Hardtop</div>
      <h2>Basketball coverage returns this winter.</h2>
      <p>We‚Äôll post scouting notes, tempo trends, and shooting gravity maps here.</p>
    </div>
  </section>

  <!-- The Pulse -->
  <section id="pulse" class="wrap" style="max-width:1100px;margin:0 auto 40px;">
    <div class="card pad">
      <div class="kicker">The Pulse</div>
      <h2 style="margin-top:6px">Live highlights & Kentucky feeds</h2>
      <p style="margin-bottom:12px">Embedded timelines for quick scrolling. Swap handles or add more as needed.</p>
      <div class="feeds">
        <div><a class="twitter-timeline" data-height="500" data-theme="light" data-chrome="noheader nofooter noborders transparent" href="https://twitter.com/UKFootball">Tweets by UKFootball</a></div>
        <div><a class="twitter-timeline" data-height="500" data-theme="light" data-chrome="noheader nofooter noborders transparent" href="https://twitter.com/UKAthletics">Tweets by UKAthletics</a></div>
        <div><a class="twitter-timeline" data-height="500" data-theme="light" data-chrome="noheader nofooter noborders transparent" href="https://twitter.com/KySportsRadio">Tweets by KySportsRadio</a></div>
      </div>
    </div>
  </section>

  <footer>
    <div class="cols">
      <div>
        <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px">
          <div class="hc-logo" aria-hidden="true"><span>HC</span></div>
          <div>
            <strong style="display:block;font:800 16px/1.2 'Franklin Gothic Medium','Arial Narrow',Arial,sans-serif; color:#e2e8f0">Hashmark Chronicles</strong>
            <span style="font:600 12px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:#94a3b8">Kentucky Athletics Review</span>
          </div>
        </div>
        <small style="color:#aab4d4">¬© <span id="year"></span> HC Media. Not affiliated with the University of Kentucky. Opinions are our own.</small>
      </div>
      <div>
        <div class="kicker" style="color:#c7d2fe">Links</div>
        <p><a href="https://twitter.com/HashmarkChron" target="_blank" rel="noopener">X / Twitter</a> ‚Ä¢ <a href="#">TikTok</a> ‚Ä¢ <a href="#">YouTube</a></p>
      </div>
    </div>
  </footer>

  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

  <!-- Fallback data (minimal) -->
  <script type="application/json" id="fallback-ticker">
  [
    { "label":"Off SR", "unit":"%", "val":"45.4", "d":"up" },
    { "label":"Havoc Allowed", "unit":"%", "val":"14.1", "d":"down" }
  ]
  </script>
  <script type="application/json" id="fallback-spotlight_featured">
  {"name":"Cutter Boley","pos":"QB","headshot":"https://a.espncdn.com/i/headshots/college-football/players/full/5141378.png","espn":"https://www.espn.com/college-football/player/_/id/5141378/cutter-boley","last_game":{"opp":"Texas","cmp_att":"31/39","yds":"258","td":"0","int":"1"},"season":{"cmp_pct":"64%","yds":"885","td":"4","int":"4"}}
  </script>
  <script type="application/json" id="fallback-spotlight_offense_last">[]</script>
  <script type="application/json" id="fallback-spotlight_offense_season">[]</script>
  <script type="application/json" id="fallback-spotlight_defense_last">[]</script>
  <script type="application/json" id="fallback-spotlight_defense_season">[]</script>

  <!-- Data loaders -->
  <script>
  (async function(){
    async function fetchOrFallback(primaryPath, fallbackScriptId){
      const tryPaths = [primaryPath.replace(/^\//,''), primaryPath];
      for(const p of tryPaths){
        try{
          const r = await fetch(p, {cache:'no-store'});
          if(r.ok){ return await r.json(); }
        }catch(e){}
      }
      const tag = document.getElementById(fallbackScriptId);
      if(tag){ try{ return JSON.parse(tag.textContent); }catch(e){} }
      return null;
    }

    /* --- Ticker --- */
    (async ()=>{
      const track = document.getElementById('tickerTrack');
      const data = await fetchOrFallback('data/ticker.json','fallback-ticker');
      if(!Array.isArray(data?.items) && Array.isArray(data)){ // legacy shape
        track.innerHTML = data.map(it => `<li><span class="trend-dot ${it.trend||'warn'}"></span><span class="label"><strong>${it.label}</strong> <span class="trend-value ${it.trend||'warn'}">${it.value}</span>${it.suffix?(' '+it.suffix):''}</span></li>`).join('');
        return;
      }
      const items = data?.items || [];
      track.innerHTML = items.map(it => {
        const trend = it.d === 'up' ? 'good' : it.d === 'down' ? 'bad' : 'warn';
        const v = (it.val ?? '‚Äî') + (it.unit||'');
        return `<li><span class="trend-dot ${trend}"></span><span class="label"><strong>${it.label}</strong> <span class="trend-value ${trend}">${v}</span>${it.last?'' : ''}</span></li>`;
      }).join('');
    })();

    /* --- Mini Spotlight --- */
    const wrap = document.getElementById('miniSpotlight');
    const list = document.getElementById('miniList');
    const featuredEl = document.getElementById('miniFeatured');
    if(!wrap) return;

    let side = 'offense', span = 'last';
    wrap.querySelectorAll('.chip').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        if(btn.dataset.side){ side = btn.dataset.side; }
        if(btn.dataset.span){ span = btn.dataset.span; }
        wrap.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
        wrap.querySelectorAll(`.chip[data-side="${side}"]`).forEach(c=>c.classList.add('active'));
        wrap.querySelectorAll(`.chip[data-span="${span}"]`).forEach(c=>c.classList.add('active'));
        loadMini();
      });
    });
    wrap.querySelector(`.chip[data-side="offense"]`)?.classList.add('active');
    wrap.querySelector(`.chip[data-span="last"]`)?.classList.add('active');

    (async ()=>{
      const data = await fetchOrFallback('data/spotlight_featured.json','fallback-spotlight_featured');
      if(data && data.name){
        featuredEl.innerHTML = rowHTML(data, true);
        featuredEl.style.display = 'flex';
      }
    })();

    async function loadMini(){
      const file = `data/spotlight_${side}_${span}.json`;
      const fallbackId = `fallback-spotlight_${side}_${span}`;
      const players = await fetchOrFallback(file, fallbackId);
      if(Array.isArray(players) && players.length){
        list.innerHTML = players.slice(0,3).map(p => rowHTML(p)).join('');
      }else{
        list.innerHTML = '<div class="tiny">No data available.</div>';
      }
    }

    function rowHTML(p, featured=false){
      const stat = shortStat(p.last_game) || shortStat(p.season) || '';
      const initials = (p.name||'').split(/\\s+/).map(s=>s[0]).slice(0,2).join('').toUpperCase() || 'UK';
      return `<div class="row">
        <img src="${p.headshot||''}" alt="${p.name} headshot"
             onerror="this.style.display='none';this.insertAdjacentHTML('afterend','<div style=&quot;width:48px;height:48px;border-radius:8px;display:grid;place-items:center;background:#0033a0;color:#fff;font:800 14px/1 system-ui&quot;>${initials}</div>')">
        <div>
          <div class="who">${p.name} <span class="tiny">‚Ä¢ ${p.pos||''}</span></div>
          <div class="stat">${stat} <a href="${p.espn||'#'}" target="_blank" rel="noopener" class="tiny">ESPN ‚Üó</a></div>
        </div>
      </div>`;
    }
    function shortStat(s){
      if(!s) return '';
      const keys = ['cmp_att','yds','td','int','rush_yds','rush_td','rec','rec_yds','rec_td','tkl','tfl','sck','pbu','def_td'];
      const labels = {cmp_att:'CMP/ATT',yds:'YDS',td:'TD',int:'INT',rush_yds:'RUSH',rush_td:'R-TD',rec:'REC',rec_yds:'REC-YDS',rec_td:'REC-TD',tkl:'TKL',tfl:'TFL',sck:'SACK',pbu:'PBU',def_td:'DEF-TD'};
      const out = [];
      for(const k of keys){ if(s[k] != null && s[k] !== '' && out.length < 3) out.push(labels[k] + ' ' + s[k]); }
      return out.join(' ‚Ä¢ ');
    }

    loadMini();

    /* --- Carousel (12-player rotation from 4 feeds) --- */
    const cTrack = document.getElementById('carouselTrack');
    const cDots  = document.getElementById('carouselDots');
    const navs = document.querySelectorAll('#spotCarousel button.nav');
    let cIndex = 0, cData = [] , timer = null;

    async function loadCarousel(){
      const [ol,dl,os,ds] = await Promise.all([
        fetchOrFallback('data/spotlight_offense_last.json','fallback-spotlight_offense_last'),
        fetchOrFallback('data/spotlight_defense_last.json','fallback-spotlight_defense_last'),
        fetchOrFallback('data/spotlight_offense_season.json','fallback-spotlight_offense_season'),
        fetchOrFallback('data/spotlight_defense_season.json','fallback-spotlight_defense_season')
      ]);
      const pool = [...(ol||[]),...(dl||[]),...(os||[]),...(ds||[])];
      const seen = new Set();
      cData = pool.filter(p=>{ if(seen.has(p.name)) return false; seen.add(p.name); return true; }).slice(0,12);
      cTrack.innerHTML = cData.map(cardHTML).join('');
      cDots.innerHTML = cData.map((_,i)=>`<span class="${i===0?'active':''}"></span>`).join('');
      cIndex = 0; updateCarousel();
      startAuto();
    }
    function cardHTML(p){
      const stat = shortStat(p.last_game) || shortStat(p.season) || '';
      const initials = (p.name||'').split(/\\s+/).map(s=>s[0]).slice(0,2).join('').toUpperCase() || 'UK';
      return `<div class="card">
        <img src="${p.headshot||''}" alt="${p.name}" onerror="this.style.display='none';this.insertAdjacentHTML('afterend','<div style=&quot;width:56px;height:56px;border-radius:10px;display:grid;place-items:center;background:#0033a0;color:#fff;font:800 16px/1 system-ui&quot;>${initials}</div>')">
        <div>
          <div class="name">${p.name}</div>
          <div class="meta">${p.pos||''} ‚Ä¢ <a class="tiny" target="_blank" rel="noopener" href="${p.espn||'#'}">ESPN ‚Üó</a></div>
          <div class="stats">${stat}</div>
        </div>
      </div>`;
    }
    function updateCarousel(){
      const w = cTrack.querySelector('.card')?.offsetWidth || 0;
      cTrack.style.transform = `translateX(-${cIndex*w}px)`;
      Array.from(cDots.children).forEach((d,i)=>d.classList.toggle('active',i===cIndex));
    }
    function next(n=1){ cIndex = (cIndex + n + cData.length) % cData.length; updateCarousel(); }
    function startAuto(){ stopAuto(); timer = setInterval(()=>next(1), 7000); }
    function stopAuto(){ if(timer){ clearInterval(timer); timer=null;} }
    navs.forEach(b=>b.addEventListener('click',()=>{ stopAuto(); next(Number(b.dataset.dir)); startAuto(); }));

    loadCarousel();
  })();

  // footer year
  document.addEventListener('DOMContentLoaded', ()=> {
    const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear();
  });
  </script>
</body>
</html>
